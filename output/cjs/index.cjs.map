{"version":3,"sources":["../../src/index.cts"],"sourcesContent":["#!/usr/bin/env node\r\nconst loadQueryRenderManager = require('./bin.js');\r\nconst { readFileSync } = require('fs');\r\nconst { resolve } = require('path');\r\n\r\nconst { version } = JSON.parse(readFileSync(resolve(process.cwd(), 'package.json'), 'utf-8'));\r\n\r\nfunction showHelp() {\r\n  console.log(`\r\nUsage: prismaql <command> [--dry]\r\n\r\nOptions:\r\n  --dry    Perform a dry run without applying changes\r\n  --help   Show this help message\r\n  --version  Show the CLI version\r\n\r\nExamples:\r\n  prismaql \"GET MODEL User;\"\r\n  prismaql \"ADD FIELD name ({String});\" --dry\r\n`);\r\n}\r\n\r\nasync function main() {\r\n  const args = process.argv.slice(2);\r\n  if (args.length === 0 || args.includes('--help')) {\r\n    showHelp();\r\n    process.exit(0);\r\n  }\r\n\r\n  if (args.includes('--version')) {\r\n    console.log(`PrismaQL CLI v${version}`);\r\n    process.exit(0);\r\n  }\r\n\r\n  const command = args.find(arg => !arg.startsWith('--'));\r\n  if (!command) {\r\n    console.error(\"Error: Missing command. Use --help for usage information.\");\r\n    process.exit(1);\r\n  }\r\n\r\n  const options = {\r\n    dry: args.includes('--dry')\r\n  };\r\n\r\n  try {\r\n    const queryManager = await loadQueryRenderManager(options);\r\n    await queryManager(command);\r\n  } catch (error) {\r\n    console.error(\"Error parsing command:\", error.message);\r\n    process.exit(1);\r\n  }\r\n}\r\n\r\nmain();\r\n"],"mappings":";AACA,MAAM,yBAAyB,QAAQ,UAAU;AACjD,MAAM,EAAE,aAAa,IAAI,QAAQ,IAAI;AACrC,MAAM,EAAE,QAAQ,IAAI,QAAQ,MAAM;AAElC,MAAM,EAAE,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQ,QAAQ,IAAI,GAAG,cAAc,GAAG,OAAO,CAAC;AAE5F,SAAS,WAAW;AAClB,UAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAWb;AACD;AAEA,eAAe,OAAO;AACpB,QAAM,OAAO,QAAQ,KAAK,MAAM,CAAC;AACjC,MAAI,KAAK,WAAW,KAAK,KAAK,SAAS,QAAQ,GAAG;AAChD,aAAS;AACT,YAAQ,KAAK,CAAC;AAAA,EAChB;AAEA,MAAI,KAAK,SAAS,WAAW,GAAG;AAC9B,YAAQ,IAAI,iBAAiB,OAAO,EAAE;AACtC,YAAQ,KAAK,CAAC;AAAA,EAChB;AAEA,QAAM,UAAU,KAAK,KAAK,SAAO,CAAC,IAAI,WAAW,IAAI,CAAC;AACtD,MAAI,CAAC,SAAS;AACZ,YAAQ,MAAM,2DAA2D;AACzE,YAAQ,KAAK,CAAC;AAAA,EAChB;AAEA,QAAM,UAAU;AAAA,IACd,KAAK,KAAK,SAAS,OAAO;AAAA,EAC5B;AAEA,MAAI;AACF,UAAM,eAAe,MAAM,uBAAuB,OAAO;AACzD,UAAM,aAAa,OAAO;AAAA,EAC5B,SAAS,OAAO;AACd,YAAQ,MAAM,0BAA0B,MAAM,OAAO;AACrD,YAAQ,KAAK,CAAC;AAAA,EAChB;AACF;AAEA,KAAK;","names":[]}